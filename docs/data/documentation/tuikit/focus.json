{"schemaVersion":{"patch":0,"major":0,"minor":3},"kind":"article","identifier":{"url":"doc:\/\/com.anthropic.tuikit.documentation\/documentation\/TUIKit\/Focus","interfaceLanguage":"swift"},"primaryContentSections":[{"content":[{"level":2,"type":"heading","text":"Overview","anchor":"Overview"},{"inlineContent":[{"type":"text","text":"TUIKit provides a sophisticated focus management system that enables Tab\/Shift+Tab navigation, keyboard shortcuts, and custom focus logic."}],"type":"paragraph"},{"level":2,"type":"heading","text":"The Focus Manager","anchor":"The-Focus-Manager"},{"inlineContent":[{"type":"codeVoice","code":"FocusManager"},{"type":"text","text":" manages which component currently has keyboard focus:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["@Environment(\\.focusManager) var focusManager","","Button(\"Click me\") {","    \/\/ Handle click","}",".focused(focusID: \"myButton\")"]},{"level":2,"type":"heading","text":"Tab Navigation","anchor":"Tab-Navigation"},{"inlineContent":[{"text":"By default, all focusable elements can be navigated with Tab and Shift+Tab:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Tab"}]},{"type":"text","text":": Move focus to the next element"}]}]},{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"Shift+Tab"}],"type":"strong"},{"type":"text","text":": Move focus to the previous element"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"inlineContent":[{"text":"Enter\/Space","type":"text"}],"type":"strong"},{"text":": Activate focused button","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"syntax":"swift","type":"codeListing","code":["VStack(spacing: 1) {","    Text(\"Navigation\")","","    Button(\"First\") { }","    Button(\"Second\") { }","    Button(\"Third\") { }","}"]},{"inlineContent":[{"type":"text","text":"Users can Tab between the buttons in order."}],"type":"paragraph"},{"level":2,"type":"heading","text":"Focus Indicators","anchor":"Focus-Indicators"},{"inlineContent":[{"type":"text","text":"Focusable elements show a focus indicator when active:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["Button(\"Focusable\") {","    print(\"Activated\")","}"]},{"inlineContent":[{"type":"text","text":"The button displays:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"A border around the element","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Visual highlight (usually arrow prefix: ","type":"text"},{"code":"â–¸","type":"codeVoice"},{"text":")","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Theme accent color"}],"type":"paragraph"}]}],"type":"unorderedList"},{"level":2,"type":"heading","text":"Programmatic Focus","anchor":"Programmatic-Focus"},{"inlineContent":[{"text":"Set focus programmatically:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["struct Settings: View {","    @State private var focusedField: String?","","    var body: some View {","        VStack(spacing: 1) {","            Button(\"First\") { focusedField = \"first\" }","                .focused(focusID: \"first\", focused: focusedField == \"first\")","","            Button(\"Second\") { focusedField = \"second\" }","                .focused(focusID: \"second\", focused: focusedField == \"second\")","","            Button(\"Reset\") { focusedField = nil }","        }","    }","}"]},{"level":2,"type":"heading","text":"Keyboard Events","anchor":"Keyboard-Events"},{"inlineContent":[{"type":"text","text":"Handle keyboard events with "},{"type":"codeVoice","code":"onKeyPress"},{"type":"text","text":":"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["struct App: View {","    var body: some View {","        VStack {","            ContentView()","                .onKeyPress { event in","                    if event.key == .character(\"h\") && event.modifiers.contains(.ctrl) {","                        print(\"Help requested\")","                        return true","                    }","                    return false","                }","        }","    }","}"]},{"level":3,"type":"heading","text":"Key Event Structure","anchor":"Key-Event-Structure"},{"inlineContent":[{"code":"KeyEvent","type":"codeVoice"},{"text":" contains:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"inlineContent":[{"type":"text","text":"key"}],"type":"strong"},{"text":": The key pressed (character, arrow, enter, etc.)","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"modifiers","type":"text"}]},{"type":"text","text":": Ctrl, Shift, Alt flags"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"text":"raw","type":"text"}]},{"text":": Raw terminal escape sequence","type":"text"}]}]}],"type":"unorderedList"},{"level":3,"type":"heading","text":"Special Keys","anchor":"Special-Keys"},{"inlineContent":[{"text":"Handle special keys like arrows and function keys:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":[".onKeyPress { event in","    switch event.key {","    case .up:","        print(\"Arrow up\")","    case .down:","        print(\"Arrow down\")","    case .left:","        print(\"Arrow left\")","    case .right:","        print(\"Arrow right\")","    case .enter:","        print(\"Enter pressed\")","    case .escape:","        print(\"Escape pressed\")","    case .tab:","        print(\"Tab pressed\")","    case .character(let char):","        print(\"Character: \\(char)\")","    default:","        break","    }","    return true","}"]},{"level":2,"type":"heading","text":"Focusable Protocol","anchor":"Focusable-Protocol"},{"inlineContent":[{"text":"Components conform to ","type":"text"},{"type":"codeVoice","code":"Focusable"},{"text":" to support focus:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["public protocol Focusable {","    var focusID: String? { get }","    var isFocused: Bool { get }","}"]},{"inlineContent":[{"text":"Button, Menu, and other interactive components automatically implement this.","type":"text"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Custom Focus Logic","anchor":"Custom-Focus-Logic"},{"inlineContent":[{"type":"text","text":"Create custom focus behavior:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["struct CustomMenu: View {","    @State private var selectedIndex: Int = 0","    let items: [String]","","    var body: some View {","        VStack(spacing: 0) {","            ForEach(Array(items.enumerated()), id: \\.offset) { index, item in","                Text(item)","                    .padding(1)","                    .background(selectedIndex == index ? .theme.accent : .clear)","            }","        }","        .onKeyPress { event in","            switch event.key {","            case .up:","                selectedIndex = max(0, selectedIndex - 1)","                return true","            case .down:","                selectedIndex = min(items.count - 1, selectedIndex + 1)","                return true","            default:","                return false","            }","        }","    }","}"]},{"level":2,"type":"heading","text":"Focus in Modals","anchor":"Focus-in-Modals"},{"inlineContent":[{"text":"Focus works correctly with modals and overlays:","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["@State var showDialog: Bool = false","","var body: some View {","    VStack {","        if showDialog {","            Alert(","                title: \"Confirm\",","                message: \"Continue?\"","            ) {","                VStack(spacing: 1) {","                    Button(\"Yes\") { showDialog = false }","                    Button(\"No\") { showDialog = false }","                }","            }","            .modal()","        }","","        Button(\"Show Dialog\") { showDialog = true }","    }","}"]},{"inlineContent":[{"text":"When a modal appears, focus automatically moves to the first focusable element in the modal.","type":"text"}],"type":"paragraph"},{"level":2,"type":"heading","text":"Best Practices","anchor":"Best-Practices"},{"items":[{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Tab order","type":"text"}]},{"type":"text","text":": Arrange elements logically for Tab navigation"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Feedback"}]},{"type":"text","text":": Always provide visual feedback for focused elements"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Shortcuts"}]},{"type":"text","text":": Implement keyboard shortcuts for common actions"}]}]},{"content":[{"inlineContent":[{"type":"strong","inlineContent":[{"text":"Testing","type":"text"}]},{"type":"text","text":": Test focus behavior with keyboard navigation"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"strong","inlineContent":[{"type":"text","text":"Accessibility"}]},{"type":"text","text":": Consider users with motor impairments who rely on keyboard"}]}]}],"type":"orderedList"},{"level":2,"type":"heading","text":"Status Bar Integration","anchor":"Status-Bar-Integration"},{"inlineContent":[{"type":"text","text":"Status bar items show keyboard shortcuts:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":[".statusBarItems {","    StatusBarItem(","        label: \"Help\",","        shortcut: Shortcut.letter(\"?\"),","        action: {","            print(\"Show help\")","        }","    )","","    StatusBarItem(","        label: \"Quit\",","        shortcut: Shortcut.letter(\"q\"),","        action: {","            print(\"Exit app\")","        }","    )","}"]},{"level":2,"type":"heading","text":"Related Topics","anchor":"Related-Topics"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"FocusManager"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"KeyEvent"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"Focusable"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"View\/onKeyPress(_:)"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"StatusBar"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"StatusBarItem","type":"codeVoice"}]}]}],"type":"unorderedList"}],"kind":"content"}],"sections":[],"abstract":[{"text":"Understand how keyboard navigation and focus works in TUIKit.","type":"text"}],"metadata":{"role":"article","roleHeading":"Article","title":"Focus Management"},"hierarchy":{"paths":[["doc:\/\/com.anthropic.tuikit.documentation\/documentation\/TUIKit"]]},"references":{"doc://com.anthropic.tuikit.documentation/documentation/TUIKit":{"role":"collection","kind":"article","abstract":[],"identifier":"doc:\/\/com.anthropic.tuikit.documentation\/documentation\/TUIKit","type":"topic","title":"TUIKit","url":"\/documentation\/tuikit"}}}